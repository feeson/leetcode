package y24.m3.d9;

import java.util.Arrays;

/*
2386. æ‰¾å‡ºæ•°ç»„çš„ç¬¬ K å¤§å’Œ
è¯·é—®æ‚¨åœ¨å“ªç±»æ‹›è˜ä¸­é‡åˆ°æ­¤é¢˜ï¼Ÿ1/5ç¤¾æ‹›æ ¡æ‹›å®ä¹ æœªé‡åˆ°é€šè¿‡æ¬¡æ•°7.3Kæäº¤æ¬¡æ•°14.8Ké€šè¿‡ç‡49.3%ç›¸å…³æ ‡ç­¾æ•°ç»„æ’åºå †ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰ç›¸å…³ä¼ä¸šæç¤º 1Start from the largest sum possible, and keep finding the next largest sum until you reach the kth sum.æç¤º 2Starting from a sum, what are the two next largest sums that you can obtain from it?è¯„è®º (63)é¢„è§ˆè¯„è®ºğŸ’¡ è®¨è®ºåŒºè§„åˆ™1. è¯·ä¸è¦åœ¨è¯„è®ºåŒºå‘è¡¨é¢˜è§£ï¼2. è¯„è®ºåŒºå¯ä»¥å‘è¡¨å…³äºå¯¹ç¿»è¯‘çš„å»ºè®®ã€å¯¹é¢˜ç›®çš„ç–‘é—®åŠå…¶å»¶ä¼¸è®¨è®ºã€‚3. å¦‚æœä½ éœ€è¦æ•´ç†é¢˜è§£æ€è·¯ï¼Œè·å¾—åé¦ˆä»è€Œè¿›é˜¶æå‡ï¼Œå¯ä»¥å»é¢˜è§£åŒºè¿›è¡Œã€‚æ’åº:æœ€çƒ­wxyzå‘å¸ƒäº æ¹–å—11 å°æ—¶å‰æŠŠæ¡æ ¸å¿ƒï¼š
å¯ä»¥è½»æ¾å¾—åˆ°æ‰€æœ‰æ­£æ•°çš„å’Œï¼Œé‚£å°±æ˜¯æœ€å¤§çš„åºåˆ—å’Œã€‚å¦‚ä½•å¾—åˆ°ç¬¬ k å¤§çš„å‘¢ï¼Ÿåˆ æ­£æ•° æˆ– æ·»è´Ÿæ•°
å¦‚ä½•åšï¼Ÿå¯ä»¥ç»Ÿä¸€æˆ åˆ ç»å¯¹å€¼ã€‚å°†è´Ÿæ•°å–åï¼Œç„¶åæ’åºï¼Œæ¯æ¬¡å–æœ€å°çš„æ•°ï¼Œå¾—åˆ°çš„å°±æ˜¯æœ€å°çš„æ­£æ•°æˆ–æœ€å¤§çš„è´Ÿæ•°ã€‚sum ä¸­å‡å»å®ƒï¼Œå°±å¯ä»¥å¾—åˆ°ä¸‹ä¸€ä¸ªæ›´å°çš„å­åºåˆ—å’Œå±•å¼€å…¨éƒ¨13å±•ç¤º 1 æ¡å›å¤å›å¤ç»¿æœˆäº®å‘å¸ƒäº æ±Ÿè‹12 å°æ—¶å‰é›¶ç‚¹äº†æœ¬æ¥æ‰“ç®—åˆ·å®Œæ¯æ—¥é¢˜å†ç¡ï¼Œçœ‹å®Œé¢˜ç›®éš¾åº¦åˆ†åï¼Œï¼Œï¼Œï¼Œç®—äº†ç›´æ¥ç¡å§å±•å¼€å…¨éƒ¨5å±•ç¤º 2 æ¡å›å¤å›å¤Andreaså‘å¸ƒäº å¹¿ä¸œ10 å°æ—¶å‰ç¬¬ä¸€çœ¼ç«‹åˆ»æƒ³åˆ°ç”¨æ±‚å­é›†é­”æ”¹ä¸€ä¸‹ï¼š
class Solution {
private:
    priority_queue<long long, vector<long long>, greater<long long>> result;
    long long sum = 0;
    void backtracking(vector<int>&amp; nums, int startIndex, int k)
    {
        if(result.size() < k)
            result.push(sum);
        else if(sum > result.top())
        {
            result.pop();
            result.push(sum);
        }
        if(startIndex>=nums.size())  return;

        for(int i=startIndex; i<nums.size(); ++i)
        {
            sum += nums[i];
            backtracking(nums, i+1, k);
            sum -= nums[i];
        }
    }
public:
    long long kSum(vector<int>&amp; nums, int k) {
        backtracking(nums, 0, k);

        return result.top();
    }
};
ä½†æ˜¯åœ¨
[153123449,-974739108,-408679566,-996444415,-978921261,805907128,-102259288,-397930077,51033052,-193994032,158654659,-486195972,-294264190,-65262667,375941242,-890038230,315970860,403847239,-32469129,-350561293,192113942,794248972,-632675681,434029943,746632801,500370163,164413366,346449701,473890512], n = 1906è¶…æ—¶
äºæ˜¯æƒ³åˆ°ä¸èƒ½çœŸçš„æŠŠæ¯ä¸ªå­é›†è·‘ä¸€éã€‚æ–°çš„æ€è·¯å°±æ˜¯ä»æ‰€æœ‰æ­£æ•°ä¹‹å’Œå¼€å§‹ï¼ˆè¿™ä¸ªå¿…æ˜¯æœ€å¤§å­é›†ï¼‰æ…¢æ…¢æ”¾å°ï¼ˆé€šè¿‡ä¸¤ç§ç§æƒ…å†µæ”¾å°ï¼š+0ï¼ˆå®é™…æ²¡å°ï¼Œä½†ä¹Ÿæ˜¯ä¸‹ä¸€ä¸ªï¼‰ï¼›å‡å»æ­£æ•°æœ€å°çš„/åŠ ä¸Šè´Ÿæ•°æœ€å¤§çš„ï¼ˆäºŒè€…è¦é€‰ï¼‰ã€‚ç•™ä¸ªæ€è·¯ï¼Œæ˜å¤©èµ·æ¥éªŒè¯ã€‚å›°å¾—ä¸è¡Œäº†ï¼Œç¡è§‰ã€‚å±•å¼€å…¨éƒ¨1å›å¤MRevengerå‘å¸ƒäº å±±ä¸œ12 å°æ—¶å‰ä¸€çœ‹å›°éš¾é¢˜ï¼Œå†çœ‹æäº¤æ¬¡æ•°11.1Kï¼Œå†çœ‹é€šè¿‡ç‡42.7%ï¼ŸCVç¡è§‰å–½ï¼Œè¿™ç§é¢˜å°±ä¸æ˜¯æˆ‘èƒ½å†™çš„å±•å¼€å…¨éƒ¨2å›å¤woruteyqiå‘å¸ƒäº æ¹–å—12 å°æ—¶å‰æ€¥é€Ÿå…¥ç¡ğŸ¤£å±•å¼€å…¨éƒ¨1å›å¤5DUA0RVknaå‘å¸ƒäº å››å·3 åˆ†é’Ÿå‰å‘ç°å…³é”®åœ¨äºæ±‚ä¸€ç»„æ•°çš„ä»»æ„è‡ªç”±æ’åˆ—å’Œçš„æ’åº å¾ˆå¥½ æ±‚ä¸äº†ä¸€ç‚¹å±•å¼€å…¨éƒ¨0å›å¤Determined 6oldvvasseru0få‘å¸ƒäº æ±Ÿè‹(ç¼–è¾‘è¿‡)43 åˆ†é’Ÿå‰å“ï¼Œä¸çŸ¥é“é¢˜ç›®è¯´çš„æ˜¯ä»€ä¹ˆï¼Œ2ï¼Œ2æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿå±•å¼€å…¨éƒ¨0å›å¤ç½’é†å‘å¸ƒäº åŒ—äº¬1 å°æ—¶å‰æ€»æ„Ÿè§‰é¢˜ç›®ä¸æ˜¯ä¸­å›½äººå†™çš„ï¼Œè¯»ä¸æ‡‚å±•å¼€å…¨éƒ¨0å›å¤Lukeå‘å¸ƒäº é™•è¥¿1 å°æ—¶å‰æœ‰æ²¡æœ‰äººç¿»è¯‘ä¸€ä¸‹å±•å¼€å…¨éƒ¨0å›å¤Candysadå‘å¸ƒäº è¾½å®1 å°æ—¶å‰æ•°å­¦é¢˜

é€†å‘æ€ç»´æƒ³åˆ°ç”¨æœ€å¤§çš„å‡å»ç¬¬kkkå°çš„å¾—åˆ°ç¬¬kkkå¤§çš„
ç”¨ä»€ä¹ˆæŠ€å·§åœ¨ä¸å®šå…ƒç´ ä¸ªæ•°æ‰€æœ‰åºåˆ—ç»„åˆä¸­æ‰¾ç¬¬kkkå°çš„åºåˆ—å’Œ
å±•å¼€å…¨éƒ¨0å›å¤123456è´¡çŒ®è€…
*/
/*
href: https://leetcode.cn/problems/find-the-k-sum-of-an-array/?envType=daily-question&envId=2024-03-09
*/
class Solution {
    long sum = 0;
    int[] nums;
    int len;
    long right = 0;
    public long kSum(int[] nums, int k) {
        this.nums = nums;
        len = nums.length;
        for (int i=0;i<len;++i){
            if (nums[i] >0 )
                sum+= nums[i];
            else
                nums[i] = -nums[i];
            right+=nums[i];
        }

        Arrays.sort(nums);

        long left = -1;
        while (left + 1 < right){
            long mid = (left + right)/2;
            // è®¡ç®—æ˜¯å¦æœ‰kä¸ªæ•°çš„å’Œå¤§äºmid
            cnt = k;
            dfs(nums, 0, mid);
            if (cnt == 0)
                right = mid;
            else
                left = mid;
        }
        return left;
    }
    int cnt;
    // sum æœ€å¤§å€¼ -> ç¬¬ä¸€å¤§
    // k ç¬¬kå¤§
    // ->0 å°äº†
    // æ£€æµ‹remain
    void dfs(int[] nums, int index, long remain){
        if (remain < 0 || index >= len || cnt == 0)
            return;
        cnt--;
        dfs(nums, index+1, sum - nums[index]);
        dfs(nums, index+1, remain);
    }
}
class Main{
    public static void main(String[] args){
        Solution s = new Solution();
        System.out.println(s.kSum(new int[]{2,4,-2}, 5));
    }
}